<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC '-//ibatis.apache.org//DTD Sql Map 2.0//EN' 'http://ibatis.apache.org/dtd/sql-map-2.dtd'>
<sqlMap> 

	<typeAlias alias="category" type="manager.bean.ManagerCategoryDto"/>
	<typeAlias alias="company" type="manager.bean.ManagerCompanyDto"/>
	<typeAlias alias="news" type="manager.bean.ManagerNewsDto"/>

	<!-- 회사정보  -->
	<select id="companyList" parameterClass="company">
		select company, ceo, licensee, address, companynum, fax, email, max, overdue from companyinfo
	</select>
	<!-- 회사정보 저장 -->
	<insert id="companyin" parameterClass="company">
		insert into companyinfo (company, ceo, licensee, address, companynum, fax, email, max, overdue)
				values (#company#, #ceo#, #licensee#, #address#, #companynum#, #fax#, #email#, #max#, #overdue#)
	</insert>
	<!-- 회사정보 수정 -->
	<update id="companymodify" parameterClass="company">
		update companyinfo set  company = #company#,
								ceo = #ceo#,
								licensee = #licensee#, 
								address = #address#,
								companynum = #companynum#,
								fax = #fax#,
								email = #email#,
								max = #max#, 
								overdue = #overdue# 
	</update>
	
	<!-- 카테고리 리스트 -->
	<select id="cetegoryList" parameterClass="category">
		select c_code, c_name from category
	</select>
	<!-- 카테고리 추가  -->
	<insert id="categoryin" parameterClass="category">
		insert into category (c_code, c_name) values (#c_code#, #c_name#) 
	</insert>
	<!-- 카테고리 수정 -->
	<update id="categorymodify" parameterClass="category" >
		update category set c_code = #c_code#,
							c_name = #c_name#
	</update>
	<!-- 카테고리 삭제 -->
	<delete id="categorydel" parameterClass="category">
		delete from category where c_name = #c_name#
	</delete>
	
	<!-- 뉴스  -->
	<!-- 뉴스 테이블 목록 전체 -->
	<select id="newsList" parameterClass="news">
		select image, sitename, title, content, site, reg from news
	</select>
	<!-- 뉴스 전체 글수  -->
	<select id="allcount" parameterClass="news">
		select count(*) from news
	</select>
	<!-- 뉴스 저장 -->
	<insert id="newsin" parameterClass="news">
		insert into news (image, 
						  sitename,
						  title,
						  content,
						  site,
						  reg) 
				  values (#image#,
				  		  #sitename#,
				  		  #title#,
				  		  #content#,
				  		  #site#,
				  		  sysdate)
	</insert>
	
</sqlMap>